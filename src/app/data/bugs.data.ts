import { BugInfo } from '../models/bug-info.model';

/** 5 independent bugs — each in a different file, no dependencies. For CTO demo. */
export const KNOWN_BUGS: BugInfo[] = [
  {
    id: 'bug-1',
    title: 'Bug 1: Undefined property access',
    description: 'UserService.getUserId — accesses user.id when user is undefined (ID 999).',
    errorMessage: "TypeError: Cannot read properties of undefined (reading 'id')",
    file: 'src/app/services/user.service.ts',
    line: 16,
    fixSuggestion: 'return user?.id ?? null',
    triggerLabel: 'Bug 1: getUserId',
  },
  {
    id: 'bug-2',
    title: 'Bug 2: Division by zero',
    description: 'CalculatorService.divide — no guard when divisor is 0.',
    errorMessage: 'Error: Division by zero',
    file: 'src/app/services/calculator.service.ts',
    line: 16,
    fixSuggestion: 'if (b === 0) return 0; or throw handled',
    triggerLabel: 'Bug 2: divide(10,0)',
  },
  {
    id: 'bug-3',
    title: 'Bug 3: toUpperCase on undefined',
    description: 'FormatService.getUppercaseEmail — .toUpperCase() when email is undefined (ID 999).',
    errorMessage: "TypeError: Cannot read properties of undefined (reading 'toUpperCase')",
    file: 'src/app/services/format.service.ts',
    line: 16,
    fixSuggestion: 'return email?.toUpperCase() ?? ""',
    triggerLabel: 'Bug 3: getUppercaseEmail',
  },
  {
    id: 'bug-4',
    title: 'Bug 4: Array index out of bounds',
    description: 'InventoryService.getItemNameAt — accesses items[5] when only 2 items exist.',
    errorMessage: "TypeError: Cannot read properties of undefined (reading 'name')",
    file: 'src/app/services/inventory.service.ts',
    line: 16,
    fixSuggestion: 'return this.items[index]?.name ?? ""',
    triggerLabel: 'Bug 4: getItemNameAt(5)',
  },
  {
    id: 'bug-5',
    title: 'Bug 5: JSON.parse without try/catch',
    description: 'ConfigService.parseIds — invalid JSON throws SyntaxError.',
    errorMessage: "SyntaxError: Expected property name or '}' in JSON at position 1 (line 1 column 2)",
    file: 'src/app/services/config.service.ts',
    line: 14,
    fixSuggestion: 'try { JSON.parse(...) } catch { return [] }',
    triggerLabel: 'Bug 5: parseIds(invalid)',
  },
];