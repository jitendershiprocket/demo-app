import { BugInfo } from '../models/bug-info.model';

export const KNOWN_BUGS: BugInfo[] = [
  {
    id: 'bug-1',
    title: 'Bug #1: getUserId — undefined access',
    description: 'Accessing user.id when user is undefined (non-existent ID 999).',
    errorMessage: "TypeError: Cannot read properties of undefined (reading 'id')",
    file: 'src/app/services/user.service.ts',
    line: 27,
    fixSuggestion: 'return user?.id ?? null',
    triggerLabel: 'Bug #1: getUserId',
  },
  {
    id: 'bug-2',
    title: 'Bug #2: getUserEmail — undefined access',
    description: 'Accessing user.email when user is undefined (non-existent ID 999).',
    errorMessage: "TypeError: Cannot read properties of undefined (reading 'email')",
    file: 'src/app/services/user.service.ts',
    line: 36,
    fixSuggestion: 'return user?.email ?? null',
    triggerLabel: 'Bug #2: getUserEmail',
  },
  {
    id: 'bug-3',
    title: 'Bug #3: getNthUserName — array index out of bounds',
    description: 'Accessing users[index].name when index is out of bounds (e.g. index 5, only 2 users).',
    errorMessage: "TypeError: Cannot read properties of undefined (reading 'name')",
    file: 'src/app/services/user.service.ts',
    line: 45,
    fixSuggestion: "const u = this.users[index]; return u?.name ?? '';",
    triggerLabel: 'Bug #3: getNthUserName',
  },
  {
    id: 'bug-4',
    title: 'Bug #4: getDomainFromEmail — null access',
    description: 'Accessing user.email when getUser() returns null (non-existent ID 999).',
    errorMessage: "TypeError: Cannot read properties of null (reading 'email')",
    file: 'src/app/services/user.service.ts',
    line: 53,
    fixSuggestion: "return user?.email?.split('@')[1] ?? '';",
    triggerLabel: 'Bug #4: getDomainFromEmail',
  },
  {
    id: 'bug-5',
    title: 'Bug #5: getEmailLowercase — toLowerCase on null',
    description: 'Calling toLowerCase() on null when getUserEmail returns null (non-existent ID 999).',
    errorMessage: "TypeError: Cannot read properties of null (reading 'toLowerCase')",
    file: 'src/app/services/user.service.ts',
    line: 60,
    fixSuggestion: 'return email?.toLowerCase() ?? "";',
    triggerLabel: 'Bug #5: getEmailLowercase',
  },
];
